# 更新日志

## v1.1.2 (2025-06-23)

### 🚨 重要修复
- **修复文件重命名功能失效问题**：修正了file-processor.js中使用错误的Eagle API调用
- **修复自定义提示词功能失效问题**：更新了main.js中的DOM选择器以匹配新的HTML结构
- **修复LibreTranslate残留代码导致的JavaScript错误**：完全清理了所有LibreTranslate相关代码

### 新增功能
- 移除LibreTranslate翻译接口，简化翻译服务配置
- 统一版本信息，修复版本不一致问题
- 清理不完善的功能和代码
- 添加旧localStorage数据自动清理功能

### 改进
- 优化翻译服务提供者管理，移除不稳定的LibreTranslate支持
- 统一项目版本号为1.1.2
- 清理未使用的配置项和代码
- 修复HTML ID冲突问题，为每个翻译提供者使用独立的ID
- 改进Eagle API调用，确保符合官方文档规范

### 代码优化
- 移除LibreTranslate相关的所有代码和配置
- 清理依赖检查中的过时引用
- 优化代码结构，提高稳定性
- 修复文件重命名使用正确的Eagle API（item.save()而非不存在的eagle.item.update()）
- 更新自定义提示词处理逻辑，支持多提供者独立配置

### Bug修复
- 修复文件重命名功能完全失效的严重问题
- 修复自定义提示词设置无法保存的问题
- 修复LibreTranslate残留代码导致的控制台错误
- 修复HTML ID冲突导致的事件监听器失效问题

## v1.1.1 (2025-04-22)

### 新增功能
- 在预览表格中添加CatID列，显示音效文件的分类ID
- 添加提示词预览功能，可查看当前使用的翻译提示词和标准化提示词内容
- 创建提示词管理模块(PromptTemplates)，集中管理所有翻译提示词
- 添加中文音效文件处理功能，自动检测并处理中文命名的音效文件

### 改进
- 优化提示词管理，将所有提示词集中到一个模块中，便于维护和修改
- 改进设置保存功能，确保用户设置（包括选择的提供者、提示词风格、API密钥等）在会话之间保持
- 修复提示词预览显示相同内容的问题，现在会根据当前选择的提示词显示对应内容
- 修复翻译结果中的多余空格问题，优化中文命名格式
- 改进翻译实时更新功能，修复表格行更新问题
- 增强AI分类器，支持中文文件名的分类和英文描述提取
- 添加反向翻译功能，将中文文件名翻译为英文，用于分类匹配和标准化
- 移除匹配排名设置选项，改为在翻译结果表格中直接选择替代匹配
- 修复替代匹配选择功能，确保用户可以在翻译后选择不同的匹配结果

### 代码优化
- 移除了所有特殊处理的代码，统一使用翻译接口
- 重构了翻译提供者代码，使用提示词管理模块获取提示词
- 优化了表格显示，使其更加清晰易读
- 修复了CSVMatcher类中的匹配算法，移除了匹配排名相关代码
- 优化了双语匹配和词性分析匹配方法，提高匹配准确性

## v1.0.0 (初始版本)

- 初始版本发布
- 支持多种翻译提供者：智谱AI、Deepseek、OpenRouter、阿里云百炼、Google翻译
- 支持音效文件名翻译和重命名
- 支持CSV术语库匹配
- 支持AI辅助分类匹配
- 支持UCS命名规则